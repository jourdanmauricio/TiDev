<!DOCTYPE html>
<html lang="es">

<head>
  <sergey-import src="metas/statics" />
  <sergey-import src="metas/titles">Clases</sergey-import>
  <link rel="stylesheet" href="/assets/css/styles.css">
  <link rel="stylesheet" href="/assets/css/menu.css">
  <link rel="stylesheet" href="/assets/css/prism.css" />
</head>

<body>
  <sergey-import src="header" />

  <main class="container">

    <h1>Clases</h1>

    <section id="clases">

      <p>Las clases de javascript, introducidas en ECMAScript 2015, son una mejora sintáctica sobre la herencia basada
        en prototipos de JavaScript. La sintaxis de las clases no introduce un nuevo modelo de herencia orientada a
        objetos en JavaScript. Las clases de JavaScript proveen una sintaxis mucho más clara y simple para crear objetos
        y lidiar con la herencia.</p>


      <p>Una manera de definir una clase es mediante una <strong>declaración de clase</strong>. Para declarar una clase,
        se utiliza la palabra reservada class y un nombre para la clase "Rectangulo".</p>


      <p>Una diferencia entre la declaración de funciones y las declaración de clases es que la declaración de funciones
        no necesariamente tiene que definirise encima de la llamada (ejecución). La declaración de clase debe definrse
        antes de acceder a ella.</p>

      <p>El <strong>contenido de una clase</strong> es la parte que se encuentra entre las llaves {}. Este es el lugar
        se
        definen los
        miembros de clase, como los métodos o constructores. </p>

      <p>El <strong>método constructor</strong> es un método especial para crear e inicializar un objeto instanciadp con
        una clase. Solo puede un "constructor" por clase. Si contiene más de una ocurrencia del método constructor,
        arrojará un Error SyntaxError</p>

      <pre>
        <code class="language-javascript">
          class Animal {
            constructor (nombre, genero) {
              this.nombre = nombre;
              this.genero = genero;
            }
          
            sonar () {
              console.log("Miau Miau");
            }

            saludar () {
              console.log(`Hola me llamo ${this.nombre}`);
            }
          }
          
          const greta = new Animal("Greta", "Hembra");
          greta.sonar(); // 'Miau Miau'
          greta.saludar(); // 'Hola me llamo Greta'
          console.log(cat);

          const hermes = new Animal("Hermes", "Macho");
          hermes.sonar(); // 'Miau Miau'
          hermes.saludar(); // 'Hola me llamo Greta'
          console.log(cat);
          
        </code>
      </pre>

      <figure>
        <img src="/assets/images/js/js_5.png" alt="Clase en consola del navegador">
        <figcaption>Clase en consola del navegador</figcaption>
      </figure>

      <p>Greta y Hermes son objetos, instancias de la clase Animal que hereda del objeto Object de JavaScript. Poseen
        los atributos nombre y genero, el método constructor y los métodos sonar y saludar. </p>

      <p>Los métodos se encuentran dntro del prototipo. Es decir, que no se repiten en cada objeto, realizando una
        considerable reducción de recursos.</p>

      <h2>Herencia</h2>

      <p>La palabra clave extends es usada en declaraciones de clase o expresiones de clase para crear una clase hija.
      </p>

      <p>Un constructor puede usar la <strong>palabra reservada super</strong> para llamar al constructor de una
        superclase</p>

      <pre>
        <code class="language-javascript">
          class Perro extends Animal {
            constructor (nombre, genero, tamanio) {
              super(nombre, genero);
              this.tamanio = tamanio;
            }
            // Sbreescribimos el método sonar
            sonar () {
              console.log("Guau Guau");
            }
            ladrar () {
              console.log("Ladrando...");
            }
          }

          const scooby = new Perro("Scooby", "Macho", "Gigante");
          scooby.sonar(); // 'Guau Guau'
          scooby.saludar(); // 'Hola me llamo Scooby'
          scooby.ladrar(); // 'Ladrando...'
          console.log(scooby);
        </code>
      </pre>

      <figure>
        <img src="/assets/images/js/js_6.png" alt="Clase Perro en consola del navegador">
        <figcaption>Clase Perro en consola del navegador</figcaption>
      </figure>

      <p>En otros lenguajes de programación existen características como: Clases abstractas, modificadores de acceso
        (clase pública, privada, protegida). En JavaScript no podemos escribir una clase que posea métodos o atributos
        privados (que solo sean accesibles desde la propia clase). </p>

      <blockquote>
        Todas las clases que generamos en JavaScript son públicas.
      </blockquote>

      <p>Existen otras características de la POO que si se encuentran implementadas en JavaScript. Ejemplo: los métodos
        estáticos, getters y setters.</p>

      <h2>Métodos estáticos</h2>

      <p>La <strong>palabra clave static</strong> define un método estático para una clase. Los métodos estáticos son
        llamados sin instanciar su clase y no pueden ser llamados mediante una instancia de clase. Los métodos estáticos
        son a menudo usados para crear funciones de utilidad para una aplicación.</p>

      <pre>
        <code class="language-javascript">
          class Punto {
            constructor ( x , y ){
              this.x = x;
              this.y = y;
            }
          
            static distancia ( a , b) {
              const dx = a.x - b.x;
              const dy = a.y - b.y;
            
              return Math.sqrt ( dx * dx + dy * dy );
            }
          }

          const p1 = new Punto(5, 5);
          const p2 = new Punto(10, 10);

          console.log (Punto.distancia(p1, p2)); // 7.0710678118654755
        </code>
      </pre>

      <h2>Getters y Setters</h2>

      <p>Son métodos especiales que nos permiten establecer y obtener el valor de un atributo de la clase que no se
        definimos al momento de crear la instancia.</p>

      <p>En el siguiente ejemplo no utilizamos el parámetro raza en el constructor de la clase e inicialmente le
        asignamos null. Luego, defimos los métodos getter y setter con las palabras clave get y set.</p>

      <pre>
        <code class="language-javascript">
          class Perro extends Animal {
            constructor (nombre, genero, tamanio) {
              super(nombre, genero);
              this.tamanio = tamanio;
              this.raza = null;
            }
            // Sbreescribimos el método sonar
            sonar () {
              console.log("Guau Guau");
            }
            ladrar () {
              console.log("Ladrando...");
            }

            get getRaza() {
              return this.raza;
            }
            set setRaza(raza) {
              this.raza = raza;
            }
          }

          const scooby = new Perro("Scooby", "Macho", "Gigante");
          scooby.sonar(); // 'Guau Guau'
          scooby.saludar(); // 'Hola me llamo Scooby'
          scooby.ladrar(); // 'Ladrando...'
          console.log(scooby);

          console.log(scooby.getRaza); // null
          scooby.setRaza = "Gran Danés";
          console.log(scooby.getRaza); // 'Gran Danés'
        </code>
      </pre>

      <blockquote>Internamente JavaScript trabaja los getters y setters como propiedades y no como métodos. Entonces, al
        momento de invocarlos no debemos incluir los paréntesis. Ejemplo: scooby.getRaza y scooby.setRaza = "Gran
        Danés".
      </blockquote>

      <hr>

      <section class="pagination">
        <article class="pagination-item">
          <a href="/pages/js/prototypes.html">
            <i class="material-icons">arrow_back</i>Prototipos
          </a>
        </article>
        <article class="pagination-item">
          <a href="/pages/js/index.html#indice">Tabla de contenido JS
            <i class="material-icons">arrow_upward</i>
          </a>
        </article>
        <article class="pagination-item">
          <a href="/pages/js/console-date-math.html">Console, Date y Math
            <i class="material-icons">arrow_forward</i>
          </a>
        </article>
      </section>

  </main>
  <sergey-import src="footer" />
  <script src="/assets/js/prism.js"></script>
</body>

</html>